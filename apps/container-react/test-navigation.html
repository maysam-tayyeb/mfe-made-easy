<!DOCTYPE html>
<html>
<head>
    <title>Test Navigation</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Test Navigation for Maximum Update Depth Fix</h1>
    <p>Steps to test:</p>
    <ol>
        <li>Start the container app: <code>pnpm dev:container</code></li>
        <li>Navigate to: <a href="http://localhost:3000">http://localhost:3000</a></li>
        <li>Click on "MFE Communication" in the navigation</li>
        <li>Try to navigate to other pages (Home, Dashboard)</li>
        <li>The "Maximum update depth exceeded" error should NOT occur</li>
    </ol>
    
    <h2>What was fixed:</h2>
    <ul>
        <li>Implemented singleton pattern for MFERegistryService</li>
        <li>Added RegistryProvider to share registry instance via React Context</li>
        <li>Updated MFECommunicationPage to use registry from context</li>
        <li>Created useMFEUrlsFromContext hook to prevent multiple registry instances</li>
    </ul>
    
    <h2>Key Changes:</h2>
    <ul>
        <li><code>registry-singleton.ts</code> - Ensures only one registry instance exists</li>
        <li><code>RegistryProvider</code> - Wraps the app to provide registry via context</li>
        <li><code>useMFEUrlsFromContext</code> - Uses registry from context instead of creating new one</li>
        <li><code>AppContent.tsx</code> - Separated from App.tsx to use registry from context</li>
    </ul>
</body>
</html>